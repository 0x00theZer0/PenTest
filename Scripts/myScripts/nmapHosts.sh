#!/bin/bash
read -p "Enter scope (e.g. 10.10.10.0/24): " scope

while true; do
	echo '\n1. Display and create a list of alive hosts.'
	echo '2. Display and create a csv host argument.'
	echo '3. Exit.'
	read -p "Select an option: " opt
	
	if [ $opt = 1 ]; then
		echo "\nLive hosts: \n$(nmap -sn $scope | grep "report" | tr '()' ' ' | cut -d ' ' -f7)"
		nmap -sn $scope | grep "report" | tr '()' ' ' | cut -d ' ' -f7 > hosts-list.txt
		echo "[+]Saved to $(pwd)/hosts-list.txt"
	elif [ $opt = 2 ]; then
		echo "\nLive hosts: $(nmap -sn $scope | grep "report" | tr '()' ' ' | cut -d ' ' -f7 | xargs | tr ' ' ',' )"
		nmap -sn $scope | grep "report" | tr '()' ' ' | cut -d ' ' -f7 | xargs | tr ' ' ',' > hosts-csv.txt
		echo "[+]Saved to $(pwd)/hosts-csv.txt"
	elif [ $opt = 3 ]; then
		echo "\nExiting..."
		break
	else
		echo "\nWrong option! Select 1-3.\n"
	fi
done
